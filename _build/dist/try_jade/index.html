<!DOCTYPE html><html><head><meta charset="utf8"><title></title><link rel="stylesheet" href="https://sindresorhus.com/github-markdown-css/github-markdown.css"><link rel="stylesheet" href="../css/style.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/github.min.css"><script src="../highlight.pack.js"></script></head><body><div class="markdown-body"><p><div class="table-of-contents"><ul><li><a href="#jade-html">Jade で始める新しい HTML の書き方</a><ul><li><a href="#html">HTML がこんな風に書けます！</a></li><li><a href="#">やってみよう</a></li><li><a href="#">基本的な機能</a></li><li><a href="#">強力な機能</a></li><li><a href="#gulp">gulp を使ってコンパイル</a></li><li><a href="#jade">Jade を使って簡単な静的サイトなブログが作れる</a></li><li><a href="#">その他テンプレートエンジン</a></li></ul></li></ul></div></p>
<h1 id="jade-html" id="jade-html">Jade で始める新しい HTML の書き方</h1>
<ul>
<li>Jade は Node.js 製のテンプレートエンジンです。</li>
<li><a href="http://haml.info/">Haml</a> などに見られるような、インデントで要素の階層を表す構文で初めての人にはとっつきにくい面もアリますが、多様な機能など、静的サイト制作を強力に支援する機能があります。</li>
<li>Dreamweaver のテンプレート機能のように <strong>共通部分の変更に強い静的サイトを作ることが可能です。</strong></li>
</ul>
<p>Jade - Template Engine<br>
<a href="http://jade-lang.com/">http://jade-lang.com/</a></p>
<h2 id="html" id="html">HTML がこんな風に書けます！</h2>
<p>Jade でマークアップ！</p>
<pre><code class="language-jade">doctype html
html(lang='en')
  head
    title Try Jade ハンズオン
    script.
      foo = true;
      bar = function () {};
      if (foo) {
        bar(1 + 5)
      }
  body
    h1 Jade
    #container.col
      p You are amazing
      p
        | Jade is a terse and simple
        | templating language with a
        | strong focus on performance
        | and powerful features.
</code></pre>
<p>Jade ファイルが変換されたらこうなります。</p>
<pre><code class="language-html"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Try Jade ハンズオン<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="actionscript">
      foo = <span class="hljs-literal">true</span>;
      bar = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{};
      <span class="hljs-keyword">if</span> (foo) {
          bar(<span class="hljs-number">1</span> + <span class="hljs-number">5</span>)
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Jade<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>You are amazing<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
        Jade is a terse and simple
        templating language with a
        strong focus on performance
        and powerful features.
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr>
<p>ここから先は Node.js を使用します。</p>
<p><a href="https://nodejs.org/en/">https://nodejs.org/en/</a></p>
<p>Node.js の環境がない方はオンライン上でコードを書けるサービス <a href="http://codepen.io/">CodePen</a> で試していただくことができます。<br>
※ただし一部の機能については使用していただくことができません。</p>
<hr>
<h2 id="" id="">やってみよう</h2>
<h5 id="git-clone" id="git-clone">サンプルファイルを <a href="https://github.com/kfug/handson/archive/try_jade.zip">ダウンロード</a> するか、git 経由で clone します。</h5>
<pre><code class="language-bash">$ git <span class="hljs-built_in">clone</span> https://github.com/kfug/handson -b try_jade
</code></pre>
<p><a href="https://github.com/kfug/handson/archive/try_jade.zip">zip ファイルをダウンロード</a></p>
<h5 id="-2" id="">作業ディレクトリに移動</h5>
<pre><code class="language-bash">$ <span class="hljs-built_in">cd</span> [git <span class="hljs-built_in">clone</span> したディレクトリ、もしくは zip ファイルを展開したディレクトリ]/handson/try_jade
</code></pre>
<h5 id="-3" id="">パッケージのインストール</h5>
<pre><code class="language-bash">$ npm install
</code></pre>
<h5 id="indexjade" id="indexjade">テキストエディターで、index.jade を編集</h5>
<p>編集するファイルはこちらにあります。</p>
<p>handson/try_jade/jade/index.jade</p>
<p>ご使用されてるテキストエディターで、index.jade を開き、以下をコピペしてください。</p>
<pre><code class="language-jade">//- index.jade
doctype html
html(lang='en')
  head
    title Try Jade ハンズオン
  body
    h1 Hello Jade !!
</code></pre>
<p>貼り付けできましたら保存してください。</p>
<h5 id="jade-html-2" id="jade-html">Jade ファイルを HTML ファイルにコンパイル</h5>
<p>以下コマンドを実行</p>
<pre><code class="language-bash">$ gulp jade
</code></pre>
<p>もしくは、</p>
<pre><code class="language-bash">$ npm run jade
</code></pre>
<p><code>./public/</code> ディレクトリに HTML ファイルが作成されていますか？？</p>
<hr>
<p>もしつまずいたら Jade のコードをオンラインで変換できる、Jade Converter が便利です。</p>
<p><a href="http://html2jade.org/">http://html2jade.org/</a></p>
<p><a href="http://html2jade.vida.io/">http://html2jade.vida.io/</a></p>
<p><a href="http://html2jade.herokuapp.com/">http://html2jade.herokuapp.com/</a></p>
<hr>
<h2 id="-4" id="">基本的な機能</h2>
<h3 id="-5" id="">書き方</h3>
<p>※以下サンプルコード内の半角スペースは必ず必要です。</p>
<pre><code class="language-jade">//- index.jade
doctype html
html
  head
    title Try Jade ハンズオン
  body
    //- 改行したい
    p
      | 改行
      br
      | したい

    //- 改行して `span` タグで囲いたい
    p
      | 改行して
      br
      span `span` タグで囲いたい

    //- リンクの挿入
    a(href=&quot;http://kfug.jp/frontconf2016/&quot;) link

    //- id, class の付与
    div#id
      | div タグに id が付与されます。

    div.class
      | div タグに class が付与されます。

    div#id.class
      | div タグに id と class が付与されます。

    #id.class
      | タグを省略すると div タグに変換され、id と class が付与されます。

    //- ul タグの中に a タグ挿入
    ul
      li
        a(href=&quot;http://kfug.jp/frontconf2016/&quot;) link
      //- このようにも書けます。
      li: a(href=&quot;http://kfug.jp/frontconf2016/&quot;) link
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/WwQraX">CodePen で見る</a></p>
<h3 id="-6" id="">変数</h3>
<pre><code class="language-jade">//- index.jade
doctype html
html
  head
    title Try Jade ハンズオン
  body
    - var title = &quot;タイトルだよ&quot;;
    - var author = &quot;関西フロントエンドUG&quot;;
    - var theGreat = &quot;FRONTEND CONFERENCE 2016&quot;;

    h1= title
    p I love #{author}
    p Todays event is #{theGreat} !
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/oxjbJN">CodePen で見る</a></p>
<h3 id="iteration" id="iteration">Iteration（繰り返し処理）</h3>
<p><a href="http://jade-lang.com/reference/iteration/">http://jade-lang.com/reference/iteration/</a></p>
<pre><code>//- index.jade
doctype html
html
  head
    title Try Jade ハンズオン
  body
    //- こんな風に書けたり、
    ul
      each val in [1, 2, 3, 4, 5]
        li= val
    //- こんな風に書いたり、
    ul
      each val, index in ['zero', 'one', 'two']
        li= index + ': ' + val
    //- こんな風に書いたりできます。
    ul
      each val, index in {1:'one',2:'two',3:'three'}
        li= index + ': ' + val
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/yOYeZq">CodePen で見る</a></p>
<h4 id="-7" id="">個人的によく使うやつ</h4>
<pre><code>select(name=&quot;birthday_year&quot;, required)
  option(value='', selected='selected') -
    - var n = 1990
    while n &lt;= 2016
      option(value=n + '年')
        =n++
        | 年

select(name=&quot;birthday_month&quot;, required)
  option(value='', selected='selected') -
    - var n = 1
    while n &lt;= 12
      option(value=n + '月')
        =n++
        | 月

select(name=&quot;birthday_day&quot;, required)
  option(value='', selected='selected') -
    - var n = 1
    while n &lt;= 31
      option(value=n + '日')
        =n++
        | 日
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/RaWawo">CodePen で見る</a></p>
<h3 id="filters" id="filters">Filters</h3>
<p><a href="http://jade-lang.com/reference/filters/">http://jade-lang.com/reference/filters/</a></p>
<p>※Markdown や CoffeeScript を Jade ファイル内に記述し HTML に変換する場合は、別途必要なパッケージがございます。</p>
<pre><code>doctype html
html
  head
    title Try Jade ハンズオン
  body
    //- Markdown が書ける
    :markdown
      # Markdown が書けた

      文章が入ります。

    //- CoffeeScript が書ける
    script
      :coffee-script
        console.log 'This is CoffeeScript'
</code></pre>
<p>※CodePen ではみれません。</p>
<hr>
<h2 id="-8" id="">強力な機能</h2>
<h3 id="includes" id="includes">Includes（外部ファイルの取り込み）</h3>
<p><a href="http://jade-lang.com/reference/includes/">http://jade-lang.com/reference/includes/</a></p>
<p><strong>jade/ ディレクトリ内に sample2/ ディレクトリを作成します。</strong></p>
<pre><code>//- jade/sample1/index.jade
doctype html
html
  //- ここで head.jade を呼び出し
  include ./_head.jade
  body
    h1 Try Jade ハンズオン
    p Hello! Jade
    //- ここで _footer.html を呼び出し
    include ./_footer.html
</code></pre>
<pre><code>//- jade/sample1/_head.jade
head
  title Try Jade ハンズオン
  script(src='/javascripts/jquery.js')
  script(src='/javascripts/app.js')
</code></pre>
<pre><code>&lt;!-- jade/sample1/_footer.html --&gt;
&lt;div id=&quot;footer&quot;&gt;
  &lt;p&gt;Copyright (c) KFUG&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>コンパイル後の HTML</p>
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Try Jade ハンズオン&lt;/title&gt;
    &lt;script src='/javascripts/jquery.js'&gt;&lt;/script&gt;
    &lt;script src='/javascripts/app.js'&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Try Jade ハンズオン&lt;/h1&gt;
    &lt;p&gt;Hello! Jade&lt;/p&gt;
    &lt;div id=&quot;footer&quot;&gt;
      &lt;p&gt;Copyright (c) KFUG&lt;/p&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>※CodePen ではみれません。</p>
<h3 id="extends" id="extends">Extends（テンプレートの継承）</h3>
<p><a href="http://jade-lang.com/reference/extends/">http://jade-lang.com/reference/extends/</a></p>
<p><strong>jade/ ディレクトリ内に sample2/ ディレクトリを作成します。</strong></p>
<pre><code>//- jade/sample2/_layout.jade
doctype html
html
  head
    //- block と書いておくと要素を挿入できる
    block title
      //- 上書き用の title が設定されていなければこちらが表示されます。
      title Default title
  body
    //- block と書いておくと要素を挿入できる
    block content
</code></pre>
<pre><code>//- jade/sample2/index.jade
extends ./_layout.jade

//- _layout.jade の title を上書きしてます。
block title
  title Article Title

//- _layout.jade の body に追加
block content
  h1 My Article
</code></pre>
<p>コンパイル後の HTML</p>
<pre><code>&lt;!doctype html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;!-- 上書きされたタイトルが出力される。 --&gt;
    &lt;title&gt;Article Title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;My Article&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>※CodePen ではみれません。</p>
<h3 id="mixins" id="mixins">Mixins</h3>
<p><a href="http://jade-lang.com/reference/mixins/">http://jade-lang.com/reference/mixins/</a></p>
<pre><code>mixin pet(name)
  li.pet= name

ul
  +pet('cat')
  +pet('dog')
  +pet('pig')
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/LNpGaY">CodePen で見る</a></p>
<h4 id="-9" id="">個人的によく使うやつ</h4>
<p>グローバルナビなどに。</p>
<pre><code>mixin gnav(id, ...items)
  ul(class=id)
    each item in items
      li
        a(href=&quot;#{item.dir}&quot;)
          | !{item.pageName}

+gnav(
  'gnav',
  {pageName: 'TOP', dir: 'http://example.com/'},
  {pageName: 'ABOUT', dir: 'http://example.com/about/'}
)
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/MyaKRP">CodePen で見る</a></p>
<p>パンくずリスト</p>
<pre><code>mixin breadcrumb(...items)
  nav
    .breadcrumbs
      div(itemscope='itemscope', itemtype='http://data-vocabulary.org/Breadcrumb')
        a(href='/', itemprop='url')
          span(itemprop='title')
            | Home
        | &amp;gt;
      each item in items
        div(itemscope='itemscope', itemtype='http://data-vocabulary.org/Breadcrumb')
          a(href='/#{item.dir}', itemprop='url')
            if(item.next)
              span(itemprop='title')
                | #{item.pageName}
              | &amp;gt;
            else
              span(itemprop='title')
                | #{item.pageName}

+breadcrumb(
  {pageName: '2階層目', dir: 'second/', next: true},
  {pageName: '3階層目', dir: 'third/', next: false}
)
</code></pre>
<p><a href="http://codepen.io/shimakyohsuke/pen/xVwVVb/">CodePen で見る</a></p>
<hr>
<h2 id="gulp" id="gulp">gulp を使ってコンパイル</h2>
<p>gulp でのコンパイルタスクの記述は <code>gulpfile.js</code> を参考にしてください。</p>
<h2 id="jade" id="jade">Jade を使って簡単な静的サイトなブログが作れる</h2>
<p><a href="http://wintersmith.io/">Wintersmith</a> や <a href="https://hexo.io/">Hexo</a> などの Node.js 製の静的サイトジェネレータでも Jade のコンパイルに対応しているものも多いです。</p>
<h2 id="-10" id="">その他テンプレートエンジン</h2>
<p>Jade の記法が特殊で取り扱いしづらいという場合には、同じく Node.js 製のテンプレートエンジンとしてメジャーな EJS という選択肢もあります。</p>
<p>EJS<br>
<a href="http://ejs.co/">http://ejs.co/</a></p>
<hr>
<p><strong>Let's Try Jade</strong></p>
</div></body></html>